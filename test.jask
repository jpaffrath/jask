/*
* This file executes several tests
*/

use jcore/jnumber
use jcore/jstring

store 0 in testPassed
store 0 in testFailed

printLine("Running jask tests...")

/*
**************************** Number storing tests ****************************
*/

store 42 in num1
if num1 equals 42 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

assign 26.119955 to num1
if num1 equals 26.119955 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

assign -10054 to num1
if num1 equals -10054 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

/*
**************************** String storing tests ****************************
*/

store "42" in str1
if str1 equals "42" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

/*
**************************** List tests ****************************
*/

if listSize(list()) equals 0 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

store list(1:2:3) in myList

if listSize(myList) equals 3 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listGet(myList:0) equals 1 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listAdd(myList:5) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listGet(myList:3) equals 5 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listSet(myList:3:4) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listGet(myList:3) equals 4 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listRemove(myList:3) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listSize(myList) equals 3 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

assign listFromString("my list") to myList
if listToString(myList) equals "my list" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

assign list(1:2:3) to myList

if listContains(myList:1) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listContains(myList:4) equals FALSE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

listAdd(myList:"a string")

if listContains(myList:"a string") equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listContains(myList:"A String") equals FALSE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

/*
**************************** jcore jstring tests ****************************
*/

if SUBSTRING("my substring string":3:11) equals "substring" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if UPPER("abcdefghijklmnopqrstuvwxyz") equals "ABCDEFGHIJKLMNOPQRSTUVWXYZ" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if LOWER("ABCDEFGHIJKLMNOPQRSTUVWXYZ") equals "abcdefghijklmnopqrstuvwxyz" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if listGet(SPLIT("a b c":" "):0) equals "a" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if listGet(SPLIT("Hello,World!":","):0) equals "Hello" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if REVERSE("12345") equals "54321" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if REVERSE(129) equals NULL assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if STRSIZE("12345") equals 5 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if STRSIZE(100) equals NULL assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if STRREPEAT("jask":2) equals "jaskjask" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if STRREPEAT("jask":0) equals NULL assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if TRIM("jask") equals "jask" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if TRIM(" jask") equals "jask" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if TRIM("jask ") equals "jask" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if TRIM(" jask ") equals "jask" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if TRIM("   jask   ") equals "jask" assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

/*
**************************** jcore jnumber tests ****************************
*/

if MAX(2445.21:-7) equals 2445.21 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if MIN(-2445.21:7) equals -2445.21 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if PI() equals 3.141592653589793 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if E() equals 2.718281828459045 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if ABS(3) equals 3 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if ABS(-3) equals 3 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if POW(2:2) equals 4 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if POW(-2:2) equals 4 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if POW(5:2) equals 25 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if POW(-3:7) equals -2187 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if POW(2:-2) equals 0.25 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if POW(2:1.5) equals 2.8284271247461903 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if POW(1.5:2) equals 2.25 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if FACTORIAL(4) equals 24 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if FACTORIAL(6) equals 720 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if FACTORIAL(10) equals 3628800 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if FACTORIAL(-1) equals NULL assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if FACTORIAL(0) equals 1 assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if HASPLACES(100) equals FALSE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if HASPLACES(5.0) equals FALSE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if HASPLACES(-42) equals FALSE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

if HASPLACES(PI()) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if HASPLACES(5.01) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if HASPLACES(-14.45) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif


/*
**************************** Miscellaneous tests ****************************
*/

if isString("foo bar") equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if isNumber(100.32214) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if isBool(TRUE) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif
if isList(list("foo bar":-1953.22:FALSE)) equals TRUE assign testPassed plus 1 to testPassed else assign 1 plus testFailed to testFailed endif

/*
**************************** End tests ****************************
*/

printLine("Finish tests with ":testPassed:" passed and ":testFailed:" failed tests!")